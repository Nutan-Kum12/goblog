syntax = "proto3";

package post;
option go_package = "github.com/Nutan-Kum12/goblog/proto/follow";

import "google/protobuf/timestamp.proto";
service FollowService {
    rpc FollowUser(FollowUserRequest) returns (FollowUserResponse);
    rpc UnfollowUser(UnfollowUserRequest) returns (UnfollowUserResponse);
    rpc GetFollowers(GetFollowersRequest) returns (GetFollowersResponse);
    rpc GetFollowing(GetFollowingRequest) returns (GetFollowingResponse);
    rpc IsFollowing(IsFollowingRequest) returns (IsFollowingResponse);
}
message Follow{
    string follower_id = 1;
    string followee_id = 2;
    google.protobuf.Timestamp followed_at = 3;
}
message FollowUserRequest {
    string follower_id = 1;
    string followee_id = 2;
}
message FollowUserResponse {
    bool success = 1;
    string message = 2;
}
message UnfollowUserRequest {
    string follower_id = 1;
    string followee_id = 2;
}
message UnfollowUserResponse {
    bool success = 1;
    string message = 2;
}
message GetFollowersRequest {
    string user_id = 1;
}

message GetFollowersResponse {
    repeated string follower_ids = 1;
}
message GetFollowingRequest {
    string user_id = 1;
}
message GetFollowingResponse {
    repeated string following_ids = 1;
}
message IsFollowingRequest {
    string follower_id = 1;
    string followee_id = 2;
}
message IsFollowingResponse {
    bool is_following = 1;
}